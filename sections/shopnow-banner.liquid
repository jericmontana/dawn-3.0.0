{{ 'section-shopnow-banner.css' | asset_url | stylesheet_tag }}

<div class="section section--shopnow-banner wishlist-empty {% if page.template_suffix == 'wishlist' %}wishlist-empty{% endif %}" style="background-color: {{section.settings.bg_color}}">
    <div class="section__bg-container"
        style="{% unless section.settings.bg_image == blank %}background-image: url('{{section.settings.bg_image | image_url}}');{% endunless %}
                {% unless section.settings.bg_color == blank %}background-color: {{ section.settings.bg_color }};{% endunless %}
                background-blend-mode: {{section.settings.bg_blend}};">

        <div class="page-width">

            <div class="section--shopnow-banner-wrapper grid grid--gapless grid--1-col grid--2-col-desktop grid--2-col-tablet"
                {% if section.settings.apply_general_settings_bg %}
                    style="{% unless settings.banner_bg_image == blank %}background-image: url('{{settings.banner_bg_image | image_url}}');{% endunless %}
                        {% unless settings.banner_bg_color == blank %}background-color: {{ settings.banner_bg_color }};{% endunless %}
                        background-blend-mode: {{settings.banner_bg_blend}};"
                {% else %}
                    style="{% unless section.settings.banner_bg_image == blank %}background-image: url('{{section.settings.banner_bg_image | image_url}}');{% endunless %}
                        {% unless section.settings.banner_bg_color == blank %}background-color: {{ section.settings.banner_bg_color }};{% endunless %}
                        background-blend-mode: {{section.settings.banner_bg_blend}};"
                {% endif %}>
                
                
                {%- assign header = section.blocks | where: 'type', 'header' -%}
                {%- for block in header -%}
                {%- if block.settings.apply_general_settings_header -%}
                    {% if settings.title != blank or settings.subtitle != blank%}
                    <div class="grid__item">
                        <div class="section__header">
                            {% unless settings.title == blank %}
                            <h2 class="section__header--title h1{% if settings.title_uppercase %}uppercase{% endif %}">{{ settings.title | escape }}</h2>
                            {% endunless %}
                            {% unless settings.subtitle == blank %}
                            <p class="section__header--subtitle">{{ settings.subtitle | escape }}</p>
                            {% endunless%}
                        </div>
                    </div>
                    {% endif %}
                {%- else -%}
                    {% if block.settings.title != blank or block.settings.subtitle != blank%}
                    <div class="grid__item">
                        <div class="section__header">
                            {% unless block.settings.title == blank %}
                            <h2 class="section__header--title {% if block.settings.title_uppercase%}uppercase{% endif %}">{{ block.settings.title | escape }}</h2>
                            {% endunless %}
                            {% unless block.settings.subtitle == blank %}
                            <p class="section__header--subtitle">{{ block.settings.subtitle | escape }}</p>
                            {% endunless%}
                        </div>
                    </div>
                    {% endif %}
                {%- endif -%}
                {%- endfor -%}
                
                <div class="grid__item">
                {%- assign button = section.blocks | where: 'type', 'button' -%}
                    {%- for block in button -%}
                        <div class="section__button">
                            {% render 'button',
                                btn_label: block.settings.btn_label,
                                btn_link: block.settings.btn_link,
                                btn_size: block.settings.btn_size,
                                hover_effect: block.settings.hover_effect,
                                icon_type: block.settings.icon_type,
                                shadow_effect: block.settings.shadow_effect,
                                auto_width: block.settings.auto_width
                            %}
                        </div>
                    {%- endfor -%}
                </div>

            </div>
            
        </div>
    </div>
</div>

{% schema %}
    {
        "name": "ðŸ”° Shop Now Banner",
        "tag": "section",
        "settings": [
            {
                "type": "header",
                "content": "Main Background Settings"
            },
            {
                "type": "color",
                "id": "bg_color",
                "label": "Background Color"
            },
            {
                "type": "image_picker",
                "id": "bg_image",
                "label": "Background Image"
            },
            {
                "type": "select",
                "id": "bg_blend",
                "label": "Blend Mode",
                "options": [
                    {
                    "value": "normal",
                    "label": "Normal"
                    },
                    {
                    "value": "multiply",
                    "label": "Multiply"
                    },
                    {
                    "value": "screen",
                    "label": "Screen"
                    },
                    {
                    "value": "overlay",
                    "label": "Overlay"
                    },
                    {
                    "value": "darken",
                    "label": "Darken"
                    },
                    {
                    "value": "lighten",
                    "label": "Lighten"
                    },
                    {
                    "value": "color-dodge",
                    "label": "Color Dodge"
                    },
                    {
                    "value": "saturation",
                    "label": "Saturation"
                    },
                    {
                    "value": "color",
                    "label": "Color"
                    },
                    {
                    "value": "luminosity",
                    "label": "Luminosity"
                    }
                ],
                "default": "normal"
            },
            {
                "type": "header",
                "content": "Banner Background Settings"
            },
            {
                "type": "checkbox",
                "id": "apply_general_settings_bg",
                "label": "Apply General Settings",
                "default": true
            },
            {
                "type": "image_picker",
                "id": "banner_bg_image",
                "label": "Image"
            },
            {
                "type": "color",
                "id": "banner_bg_color",
                "label": "Color"
            },
            {
                "type": "select",
                "id": "banner_bg_blend",
                "label": "Blend Mode",
                "options": [
                    {
                    "value": "normal",
                    "label": "Normal"
                    },
                    {
                    "value": "multiply",
                    "label": "Multiply"
                    },
                    {
                    "value": "screen",
                    "label": "Screen"
                    },
                    {
                    "value": "overlay",
                    "label": "Overlay"
                    },
                    {
                    "value": "darken",
                    "label": "Darken"
                    },
                    {
                    "value": "lighten",
                    "label": "Lighten"
                    },
                    {
                    "value": "color-dodge",
                    "label": "Color Dodge"
                    },
                    {
                    "value": "saturation",
                    "label": "Saturation"
                    },
                    {
                    "value": "color",
                    "label": "Color"
                    },
                    {
                    "value": "luminosity",
                    "label": "Luminosity"
                    }
                ],
                "default": "normal"
            }
        ],
        "blocks": [
            {
                "type": "header",
                "name": "Header",
                "limit": 1,
                "settings": [
                    {
                        "type": "checkbox",
                        "id": "apply_general_settings_header",
                        "label": "Apply General Settings",
                        "default": true
                    },
                    {
                        "type": "text",
                        "id": "title",
                        "label": "Title",
                        "default": "Visit Our Store"
                    },
                    {
                        "type": "checkbox",
                        "id": "title_uppercase",
                        "label": "Uppercase",
                        "default": false
                    },
                    {
                        "type": "textarea",
                        "id": "subtitle",
                        "label": "Subtitle",
                        "default": "Mus mauris vitae ultricies leo. Ac feugiat sed lectus vestibulum lacus laoreet non curabitur."
                    }
                ]
            },
            {
                "type": "button",
                "name": "Button",
                "limit": 1,
                "settings":[
                    {
                        "type":"text",
                        "id":"btn_label",
                        "label":"Label",
                        "default":"Shop Now"
                    },
                    {
                        "type": "url",
                        "id": "btn_link",
                        "label": "Link",
                        "default": "/collections/all"
                    },
                    {
                        "type": "select",
                        "id": "btn_size",
                        "label": "Button Size",
                        "options": [
                            {
                            "value": "default",
                            "label": "Default"
                            },
                            {
                            "value": "medium",
                            "label": "Medium"
                            },
                            {
                            "value": "large",
                            "label": "Large"
                            }
                        ],
                        "default": "default"
                    },
                    {
                        "type": "select",
                        "id": "hover_effect",
                        "label": "Hover Effect",
                        "options": [
                            {
                            "value": "lighten",
                            "label": "Lighten Effect"
                            },
                            {
                            "value": "color-switch",
                            "label": "Color Switch Effect"
                            },
                            {
                            "value": "slide",
                            "label": "Slide Effect"
                            },
                            {
                            "value": "shine",
                            "label": "Shine Effect"
                            }
                        ],
                        "default": "shine"
                    },
                    {
                        "type": "select",
                        "id": "icon_type",
                        "label": "Button Icon",
                        "options": [
                            {
                            "value": "none",
                            "label": "None"
                            },
                            {
                            "value": "arrow",
                            "label": "Arrow"
                            }
                        ],
                        "default": "arrow"
                    },
                    {
                        "type": "checkbox",
                        "id": "shadow_effect",
                        "label": "Enable Shadow Effect",
                        "default": true
                    },
                    {
                        "type": "checkbox",
                        "id": "auto_width",
                        "label": "Enable Auto Width",
                        "default": false
                    }
                ]
            }
        ],
        "presets":[
            {
                "name": "ðŸ”° Shop Now Banner",
                "category": "Custom Section",
                "blocks":[
                    {
                        "type":"header"
                    },
                    {
                        "type":"button"
                    }
                ]
            } 
        ]
    }
{% endschema %}